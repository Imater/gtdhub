@panelBorderColor: red;

.editor {
  height: 100px;
  background: #FFF;
}

.arrow_box:after, .arrow_box:before {
  bottom: -36px;
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.arrow_box:after {
  border-color: rgba(136, 183, 213, 0);
  border-bottom-color: inherit;
  border-width: 15px;
  margin-left: -15px;
}
.arrow_box:before {
  border-color: rgba(0, 0, 0, 0);
  border-bottom-color: @panelBorderColor;
  border-width: 17px;
  margin-left: -17px;
}


.card-wrap {
  width: 100%;
  .card-line-wrap {
    box-shadow: 1px 1px 10px rgba(0,0,0,1);
    border-top: 5px solid;
    border-bottom: 5px solid;
    padding-bottom: 10px;
    padding-left: 7px;
    padding-right: 7px;
    border-radius: 15px;
    padding-top: 35px;
    .card-line {
      color: #000;
      background: inherit;
      display: inline-block;
      width: 33%;
      padding: 20px 20px;
      padding-top: 10px;
      .title-wrap {
        margin-top: 20px;
        display: inline-block;
        margin: 5px;
        margin-top: 10px;
        width: 100%;
        height: 200px;
        background: #FFF;
        position: relative;
        box-shadow: 0 2px 6px rgba(0,0,0,0.9);
        padding: 10px;
        opacity: 0.9;
        .card-text {
          overflow: hidden;
          position: absolute;
          top: 0;
          bottom: 0;
          left: 0;
          right: 0;
          font-size: 1.23em;
          padding: 13px 16px;
        }
        .arrow_box {
          opacity: 0;
        }
        &.active {
          .title-bottom {
            opacity: 1;
            padding-bottom: 37px;
            left: -5px;
            right: -5px;
            padding-left: 15px;
            padding-right: 15px;
            bottom: -30px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            z-index: 1;
          }
          .arrow_box {
            opacity: 0;
          }
        }
        .title-bottom {
          //box-shadow: 0px -1px 3px rgba(0,0,0,0.5);
          position: absolute;
          color: #FFF;
          font-weight: bold;
          bottom: 0;
          left: 0;
          right: 0;
          height: auto;
          padding: 8px 10px;
          cursor: pointer;
        }
      }
    }
  }
}



// ............................................................
// .for

.for(@i, @n) {.-each(@i)}
.for(@n)     when (isnumber(@n)) {.for(1, @n)}
.for(@i, @n) when not (@i = @n)  {
  .for((@i + (@n - @i) / abs(@n - @i)), @n);
}

// ............................................................
// .for-each

.for(@array)   when (default()) {.for-impl_(length(@array))}
.for-impl_(@i) when (@i > 1)    {.for-impl_((@i - 1))}
.for-impl_(@i) when (@i > 0)    {.-each(extract(@array, @i))}


@list:
  color-0,
  color-1,
  color-2,
  color-3,
  color-4,
  color-5,
  color-6,
  color-7,
  color-8,
  color-9,
  color-10,
  color-11,
  color-12,
  color-13,
  color-14,
  color-15;
@color-0: #c80d00;
@color-1: #1900c4;
@color-2: #a2002e;
@color-3: #005dfb;
@color-4: #a33e8c;
@color-5: #008afb;
@color-6: #733e80;
@color-7: #008a2f;
@color-8: #7000ff;
@color-9: #00a69c;
@color-10: #899900;
@color-11: #c32d00;
@color-12: #53b800;
@color-13: #a3004f;
@color-14: #4a2bff;
@color-15: #ae5700;

.card-wrap {
  .background {
    .for(@list); .-each(@value) {
      &-@{value} {
        background: fade(lighten(@@value, 48%), 25%);
        border-color: darken(@@value, 0%);
        border-bottom-color: lighten(@@value, 5%);
      }
    }
  }
  .bottom {
    .for(@list); .-each(@value) {
      &-@{value} {
        .title-bottom {
          background: @@value;
        }
        .arrow_box {
          &:before {
            border-bottom-color: darken(@@value, 0%);
          }
          &:after {
            border-bottom-color: lighten(@@value, 45%);
          }
        }
      }
    }
  }
}
